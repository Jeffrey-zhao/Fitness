@{
  ViewBag.Title = "MotionsInPlan | Fit";
}
@model Fit.DTO.MotionsInPlanOutputDTO[]

<div class="row wrapper border-bottom white-bg  page-heading">
  <div class="col-sm-4">
    <h2>第<span>@ViewBag.Index</span>/<span>@ViewBag.PlanCount</span>天</h2>
    <ol class="breadcrumb">
      <li>
        <span>我的计划</span>
      </li>
      <li class="active">
        <strong>第<span>@ViewBag.Index</span>/<span>@ViewBag.PlanCount</span>天</strong>
      </li>
    </ol>
  </div>
  <div class="col-sm-8">
    <div class="title-action">
      <a href="~/MotionsInPlan/Add?planId=@ViewBag.PlanId&index=@ViewBag.Index&planCount=@ViewBag.PlanCount" class="btn btn-primary">添加</a>
    </div>
  </div>
</div>
<div class="wrapper wrapper-content animated fadeInRight">
  <div class="row">
    <div class="col-lg-12">
      <div class="ibox float-e-margins">
        <div class="ibox-content">
          <table class="footable table table-stripped toggle-arrow-tiny" data-page-size="8">
            <thead>
              <tr>
                <th>锻炼项目</th>
                <th>运动量</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody>
              @foreach (var item in Model)
              {
                <tr>
                  <td>@item.MotionName</td>
                  <td> @item.ExcerciseDetail</td>
                  <td>
                    <a href="javascript:void(0);" onclick='onDelete(@item.ID);return false'>
                      <i class="fa fa-times"></i>
                    </a>
                  </td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
@section FooterScript{
  <script>
    function onDelete(id) {
      if (confirm("确定要删除吗？")) {
        deleteById(id);
      }
    };
    function deleteById(id) {
      $.ajax({
        url: "/MotionsInPlan/Delete/" + id,
        type: "post",
        success: function (res) {
          if (res.status == "ok") {
            location.reload();
          } else {
            alert(res.msg);
          }
        }
      });
    };
  </script>
}

